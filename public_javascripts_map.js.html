<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: public/javascripts/map.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: public/javascripts/map.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>ï»¿var map = {};

/**
* authors Matt, Mackenzie, Michael, Max
* 
**/

map.settings = function (width, height)
{
    this._width = width;
    this._height = height;
    this._tiles = []; // of map.tile

    //functions
    this.getTileAt = map.getTileAt;
}

/**
* consturctor function for each of the tiles
* @param {x} the x position of the tile
* @param {y} the y position of the tile
**/

map.tile = function(x, y)
{
    // where is it - so the tile knows its own position
    this._x = x;
    this._y = y;

    // stuff about this tile
    this._resource = null;
    this._settlement = null;
    this._minerals = {};
    this._agriculture = {};

    // functions
    this.getLocation = map.getLocation;
    this.click = map.tileClick;
    this.draw = map.drawTile;
    this.toCube = map.toCube;
    this.getNeighbours = map.getNeighbours;
}

map.getTileAt = function (x, y)
{
    for (var i = 0; i &lt; this._tiles.length; i++)
    {
        if (this._tiles[i]._x == x &amp;&amp; this._tiles[i]._y == y)
            return this._tiles[i];
    }
}

map.toCube = function ()
{
    var x = this._x;
    var y = this._y;
    var z = -x-y
    return { x: x, y: y, z: z };
}
//commenting out this code since we dont need an html dialouge
/*map.tileClick = function ()
{
    var id = Math.random().toString().substring(3);

    var html = "&lt;div title='You clicked' id='" + id + "' >"
             + "id: " + id + "&lt;br />"
             + "resource: " + (this._resource || "") + "&lt;br />"
             + "settlement: " + (this._settlement || "") + "&lt;br />"
             + "&lt;/div>";

    $(html).dialog(
    {
        modal: true,
        close: function () { $(this).empty().remove(); },
        buttons: { "Close": function () { $(this).dialog("close"); } }
    });
}*/

/**
* Function to draw a tile at a given location
* @param {cartography} includes the cartography information to be used in the function
**/
map.drawTile = function (cartography)
{
    var hexTopLeft = this.getLocation(cartography);

    cartography.drawHexagon(hexTopLeft.x, hexTopLeft.y, this._resource._colour, 1);

    if(this._resource)
        cartography.drawSprite(hexTopLeft.x, hexTopLeft.y, this._resource.getSprite());
    if (this._settlement)
        cartography.drawSprite(hexTopLeft.x, hexTopLeft.y, this._settlement.getSprite());
}

/**
* Function to get the current location of the the hexagon
* @param {cartography} includes the cartography information to be used in the function
**/
map.getLocation = function (cartography)
{
    var hexTopLeft = {
        x: this._x * cartography._hexRectangleWidth + ((this._y % 2) * cartography._hexRadius),
        y: this._y * (cartography._sideLength + cartography._hexHeight)
    };
    return hexTopLeft;
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_config.html">lib/config</a></li><li><a href="module-lib_express-validators.html">lib/express-validators</a></li><li><a href="module-lib_http-error.html">lib/http-error</a></li><li><a href="module-lib_navbar.html">lib/navbar</a></li><li><a href="module-lib_packageConfig.html">lib/packageConfig</a></li><li><a href="module-models_db.html">models/db</a></li><li><a href="module-models_user.html">models/user</a></li><li><a href="module-routes_index.html">routes/index</a></li><li><a href="module-routes_login.html">routes/login</a></li><li><a href="module-routes_logout.html">routes/logout</a></li><li><a href="module-routes_play.html">routes/play</a></li></ul><h3>Classes</h3><ul><li><a href="module-models_user-User.html">User</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-lib_express-validators-customValidators.html">customValidators</a></li></ul><h3>Global</h3><ul><li><a href="global.html#$">$</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Apr 26 2016 16:45:05 GMT-0600 (MDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
